#pragma once

#include <limits.h>

static void lemonSplitSize(int* factor, size_t orig)
{ 
  if (orig < ((size_t)INT_MAX * (size_t)INT_MAX))
  {
    size_t base = orig;
    size_t run = 2;
    *factor = 1;
    while ((base > (size_t)INT_MAX) && (run < base))
    {
      while ((base % run) && (run < base))
	++run;
      base /= run;
      *factor *= run;
    }
    if (orig == base * (size_t)(*factor))  
      return;
  }
  factor = 0;
  return;
}

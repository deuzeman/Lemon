#pragma once

#include <limits.h>

static int lemonSplitSize(size_t orig)
{ 
  if (orig < ((size_t)INT_MAX * (size_t)INT_MAX))
  {
    size_t base = orig;
    size_t run = 2;
    int factor = 1;
    while ((base > (size_t)INT_MAX) && (run < base))
    {
      while ((base % run) && (run < base))
	++run;
      base /= run;
      factor *= run;
    }
    if (orig == base * (size_t)factor)  
      return factor;
  }
  return 0;
}
